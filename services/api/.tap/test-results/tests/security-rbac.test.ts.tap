TAP version 14
# Subtest: Security: RBAC Authorization
    not ok 1 - fastify-plugin: @fastify/rate-limit - expected '4.x' fastify version, '5.7.4' is installed
      ---
      stack: |
        Object.checkVersion (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js:127:11)
        Object.registerPlugin (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js:150:16)
        Boot.override (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-override.js:29:57)
        Boot._loadPlugin (../../node_modules/.pnpm/avvio@9.1.0/node_modules/avvio/boot.js:425:25)
      at:
        fileName: ../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js
        lineNumber: 127
        columnNumber: 11
        typeName: Object
        methodName: checkVersion
        functionName: Object.checkVersion
      type: FastifyError
      code: FST_ERR_PLUGIN_VERSION_MISMATCH
      statusCode: 500
      tapCaught: returnedPromiseRejection
      source: >2
            // expects an older version of Fastify than the _current_ version, we will
            // throw an error.
            throw new FST_ERR_PLUGIN_VERSION_MISMATCH(meta.name, requiredVersion, this.version)
        ----------^
          }
        }
      ...
    
    1..1
not ok 1 - Security: RBAC Authorization # time=159.805ms
  ---
  at:
    fileName: tests/security-rbac.test.ts
    lineNumber: 13
    columnNumber: 1
    isToplevel: true
  source: |2
     * Ensures proper role-based authorization for manager/admin workflows
     */
    test('Security: RBAC Authorization', async (t) => {
    ^
      const config = {
        port: 3003,
  ...

# Subtest: Security: Fail-Closed Authorization
    not ok 1 - fastify-plugin: @fastify/rate-limit - expected '4.x' fastify version, '5.7.4' is installed
      ---
      stack: |
        Object.checkVersion (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js:127:11)
        Object.registerPlugin (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js:150:16)
        Boot.override (../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-override.js:29:57)
        Boot._loadPlugin (../../node_modules/.pnpm/avvio@9.1.0/node_modules/avvio/boot.js:425:25)
      at:
        fileName: ../../node_modules/.pnpm/fastify@5.7.4/node_modules/fastify/lib/plugin-utils.js
        lineNumber: 127
        columnNumber: 11
        typeName: Object
        methodName: checkVersion
        functionName: Object.checkVersion
      type: FastifyError
      code: FST_ERR_PLUGIN_VERSION_MISMATCH
      statusCode: 500
      tapCaught: returnedPromiseRejection
      source: >2
            // expects an older version of Fastify than the _current_ version, we will
            // throw an error.
            throw new FST_ERR_PLUGIN_VERSION_MISMATCH(meta.name, requiredVersion, this.version)
        ----------^
          }
        }
      ...
    
    1..1
not ok 2 - Security: Fail-Closed Authorization # time=20.211ms
  ---
  at:
    fileName: tests/security-rbac.test.ts
    lineNumber: 156
    columnNumber: 1
    isToplevel: true
  source: |2
     * Ensures routes fail closed (deny by default) when authorization is unclear
     */
    test('Security: Fail-Closed Authorization', async (t) => {
    ^
      const config = {
        port: 3004,
  ...

1..2
