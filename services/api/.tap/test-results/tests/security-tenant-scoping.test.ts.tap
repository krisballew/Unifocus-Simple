TAP version 14
# Subtest: Security: Tenant Scoping and Authorization
    not ok 1 - Cannot read properties of undefined (reading 'issuer')
      ---
      stack: |
        registerAuthPlugin (src/plugins/auth.ts:1:419)
        registerPlugins (src/plugins/index.ts:1:413)
        async buildServer (src/server.ts:1:848)
        async Test.<anonymous> (tests/security-tenant-scoping.test.ts:1:445)
      at:
        fileName: src/plugins/auth.ts
        lineNumber: 1
        columnNumber: 419
        functionName: registerAuthPlugin
      type: TypeError
      tapCaught: returnedPromiseRejection
      source: |
        import type { FastifyInstance, FastifyRequest } from 'fastify';
        import { jwtVerify, importSPKI } from 'jose';
        import NodeCache from 'node-cache';
      ...
    
    1..1
not ok 1 - Security: Tenant Scoping and Authorization # time=183.317ms
  ---
  at:
    fileName: tests/security-tenant-scoping.test.ts
    lineNumber: 14
    columnNumber: 1
    isToplevel: true
  source: |2
     * when attempting cross-tenant or unauthorized access.
     */
    test('Security: Tenant Scoping and Authorization', async (t) => {
    ^
      const config = {
        port: 3002,
  ...

1..1
